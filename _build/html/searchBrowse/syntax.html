



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Search Syntax &mdash; CollectiveAccess 1.7 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/table_override.css" type="text/css" />
  

  
    <link rel="top" title="CollectiveAccess 1.7 documentation" href="../index.html"/>
        <link rel="next" title="Indexing Options" href="indexing.html"/>
        <link rel="prev" title="Introduction to Search &amp; Browse Types" href="intro.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CollectiveAccess
          

          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Introduction to CollectiveAccess</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/whatIs.html">What is CollectiveAccess?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/whoUses.html">Who uses it?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/why.html">Why should I?</a></li>
</ul>
<p class="caption"><span class="caption-text">Setup &amp; Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/systemReq.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/media.html">Media Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Profiles.html">Profiles</a></li>
</ul>
<p class="caption"><span class="caption-text">How CA Organizes Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../org/records.html">Primary Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/intIDLabel.html">Intrinsics, Identifiers and Labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/Relationships.html">Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/interstitial.html">Interstitial Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/dateTime.html">Date and Time Formats</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuring Providence (Front-End)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../providence/Locales.html">Locales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/listsAuthorities.html">Lists and Authorities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/interfaces.html">User Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/together.html">Putting It All Together</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/profiles.html">Writing Your Own Installation Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/system.html">System Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/identifiers.html">Identifiers</a></li>
</ul>
<p class="caption"><span class="caption-text">Search &amp; Browse</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Intro to Search Pages</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="engines.html">Search Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Search Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="query.html">Query Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="facets.html">Browse Facets</a></li>
</ul>
<p class="caption"><span class="caption-text">Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reporting/displays.html">Using Displays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/templates.html">Display Template Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/export.html">Exporting Search &amp; Browse Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/pdfOut.html">PDF Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/labels.html">Generating Labels</a></li>
</ul>
<p class="caption"><span class="caption-text">Workflow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflow/sets.html">Creating Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/status.html">Status Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/access.html">Access Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/location.html">Tracking Current Object Location</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/history.html">Maintaining Object Use History</a></li>
</ul>
<p class="caption"><span class="caption-text">Import</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../import/tutorial.html">Basic Importer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import/formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import/mappings.html">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import/running.html">Running an Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import/worldcat.html">WorldCat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../import/getty.html">Getty Vocabularies</a></li>
</ul>
<p class="caption"><span class="caption-text">Export</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../export/formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/mappings.html">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/running.html">Running an Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../administration/control.html">User Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/maint.html">Maintenance Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Customizing Pawtucket</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/intro.html">Introduction to Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/general.html">General Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/media.html">Media Display &amp; Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/access.html">Public Access Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/reg.html">Login &amp; Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/static.html">Homepage &amp; Static Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/searchBrowse.html">Search &amp; Browse Pages and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/detail.html">Detail Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/lightbox.html">Lightboxes &amp; Galleries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/classrooms.html">Classrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/contact.html">Contact &amp; Mail Templates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/APIs.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/FAQs.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/Glossaries.html">Glossaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/prior.html">Prior Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CollectiveAccess</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Search Syntax</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="search-syntax">
<h1>Search Syntax<a class="headerlink" href="#search-syntax" title="Permalink to this headline">¶</a></h1>
<p>No matter what back-end <a class="reference external" href="http://docs.collectiveaccess.org/sphinx/_build/html/searchBrowse/engines.html">search engine</a> you configure CA with, the <a class="reference external" href="http://lucene.apache.org/core/2_9_4/queryparsersyntax.html">Lucene search syntax</a> is always used to specify queries. This helps to provide a consistent experience for users across implementations and also leverages the Lucene syntax, which is well designed and widely adopted. Note that not all back-end engines support all aspects of the Lucene syntax. In general you can rely upon core functionality always being supported: text searches, field-level limiting, parenthetical grouping and booleans. Features such as boosting, fuzzy matching and range searches may not be available in all engines.</p>
<div class="section" id="fulltext-searches">
<h2>Fulltext searches<a class="headerlink" href="#fulltext-searches" title="Permalink to this headline">¶</a></h2>
<p>To search across all indexed fields in the database (as defined in the search_indexing.conf configuration file) simply type in a word or words. Depending upon the engine, your input may be stemmed (suffixes removed before comparison with the index) to improve results. Most engines will only return results that contain all of the words specified, but some may employ logic to return seemingly relevant partial matches.</p>
</div>
<div class="section" id="limiting-your-search-to-a-specific-field">
<h2>Limiting your search to a specific field<a class="headerlink" href="#limiting-your-search-to-a-specific-field" title="Permalink to this headline">¶</a></h2>
<p>If you wish to restrict your search to a specific field in the CA database, specify the table name and field separated by a dot, like this:</p>
<p><code class="docutils literal"><span class="pre">&lt;table&gt;.&lt;field&gt;</span> <span class="pre">(ex.</span> <span class="pre">ca_object_labels.name)</span></code></p>
<p>A query in the form of</p>
<p><code class="docutils literal"><span class="pre">ca_object_labels.name:Rollercoasters</span></code></p>
<p>would return only objects whose label (eg. its title) contains the word rollercoasters</p>
<p>Note that this applies only to &#8220;intrinsic&#8221; fields that are hardcoded into the CA database. That is, they are always present no matter how you have CA configured - although you may not be using them. There are only a few of this type of field in common usage: label fields (for ca_objects, ca_entities, etc.), idno identifier fields (for ca_objects, ca_entities, etc.), and the extent and extent_units fields (for ca_objects and ca_object_lots).</p>
</div>
<div class="section" id="limiting-your-search-to-a-specific-metadata-elements">
<h2>Limiting your search to a specific metadata elements<a class="headerlink" href="#limiting-your-search-to-a-specific-metadata-elements" title="Permalink to this headline">¶</a></h2>
<p>Metadata elements are data fields specific to your installation. They may or may not exist in other installations. Searching on them is similar to searching on intrinsic fields:</p>
<p><code class="docutils literal"><span class="pre">&lt;ca_table&gt;.&lt;element</span> <span class="pre">code&gt;</span> <span class="pre">(for</span> <span class="pre">example,</span> <span class="pre">ca_objects.description</span> <span class="pre">to</span> <span class="pre">search</span> <span class="pre">within</span> <span class="pre">the</span> <span class="pre">&quot;description&quot;</span> <span class="pre">element</span> <span class="pre">attached</span> <span class="pre">to</span> <span class="pre">objects.)</span></code></p>
<p>You can see a list of all metadata elements (and their codes) available in your configuration in the metadata element editor available under the &#8220;System Configuration&#8221; option in the &#8220;Manage&#8221; menu. (Note: only system administrators have access to this editor).</p>
<p>In all engines you can perform text searches on any element. In some engines - specifically the MysqlFulltext engine that is the default engine upon installation - you can also perform specialized searches on certain types of elements. These searches are described in the following section.</p>
</div>
<div class="section" id="limiting-searches-to-specific-relationship-types">
<h2>Limiting searches to specific relationship types<a class="headerlink" href="#limiting-searches-to-specific-relationship-types" title="Permalink to this headline">¶</a></h2>
<p>By default, when searching on related content (Eg. search for objects using names of related entities) all relationships are considered. If you wish to limit your search to specific types of relationships append the relationship type code (or codes, separated by commas) following the field qualifier and a forward slash. For example this query:</p>
<p><code class="docutils literal"><span class="pre">ca_entities.preferred_labels.displayname/depicts:&quot;Cynthia</span> <span class="pre">Hopkins&quot;)</span></code></p>
<p>when used to find objects will return all objects related to Cynthia Hopkins with a &#8220;depicts&#8221; relationship.</p>
</div>
<div class="section" id="searching-on-dates">
<h2>Searching on dates<a class="headerlink" href="#searching-on-dates" title="Permalink to this headline">¶</a></h2>
<p>To search on a date or date range, simply restrict your search to a date range element and then search on the desired date, using one of the formats described on the date and time format page. You can use any supported format and any precision - the search engine will find any date (and optionally times) that overlap your search date range. Matching is by default very loose: items with any overlap will be returned. You can restrict matching to items with dates that are completely encompassed by your search date by prepending a &#8220;#&#8221; to your search data. Eg. &#8220;#May 10 2005&#8221;</p>
</div>
<div class="section" id="searching-on-lengths-and-widths">
<h2>Searching on lengths and widths<a class="headerlink" href="#searching-on-lengths-and-widths" title="Permalink to this headline">¶</a></h2>
<p>To search on a length or width, restrict your search to a length or width element and use the desired quantity with units specified. You must specify units - there is no default no matter what your &#8220;units of measurement&#8221; preference is set to (this preference governs display of measurements only). If you want to find items that match a measurement exactly simply search on the quantity. CA will convert the quantity to the required units for comparison, so even if an item was measured in inches, a metric search will find it - if the measurements match of course.</p>
<p><code class="docutils literal"><span class="pre">ca_objects.width:12in</span></code></p>
<p>You can use almost any unit abbreviation listed on the measurement input format page. A few, such as &#8221; for inches and &#8216; for feet have special meaning in the Lucene search syntax and should not be used.</p>
<p>If you want to search for items within a range of measurements, specify the upper and lower bounds of the range with units. The boundary values should be separated with the word &#8220;to&#8221; and enclosed in square brackets. Do not put spaces between the quantity and units. For example:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.width:[12in</span> <span class="pre">to</span> <span class="pre">24in]</span></code></p>
<p>would find all objects with a width between 12 and 24 inches (inclusive). Note that there is no space between &#8220;12&#8221; and &#8220;in&#8221; and &#8220;24&#8221; and &#8220;in&#8221;</p>
</div>
<div class="section" id="searching-on-numbers">
<h2>Searching on numbers<a class="headerlink" href="#searching-on-numbers" title="Permalink to this headline">¶</a></h2>
<p>Searching on numbers is very similar to searching on measurements, except that no units are necessary. To search on an integer or decimal value element restrict your search to the element and specify the number either singly or as a range. For example, to find objects with a user_ranking value of 5:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.user_ranking:5</span></code></p>
<p>To find objects with user_ranking values between 1 and 5 (inclusive):</p>
<p><code class="docutils literal"><span class="pre">ca_objects.user_ranking:[1</span> <span class="pre">to</span> <span class="pre">5]</span></code></p>
</div>
<div class="section" id="searching-on-currency">
<h2>Searching on currency<a class="headerlink" href="#searching-on-currency" title="Permalink to this headline">¶</a></h2>
<p>Searching on currency is very similar to searching on numbers, except that a currency type is required. To search on an currency value element restrict your search to the element and specify the currency amount either singly or as a range. The amount should be prefixed with a three letter currency specified (eg. EUR for Euros, USD for US dollars) or one of the supports symbolic specifiers ($, ¥, £ and €). For example, to find objects with an appraisal_value value of $500:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.appraisal_value:$500</span></code></p>
<p>To find objects with appraisal_value values $500 or under:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.appraisal_value:[$0</span> <span class="pre">to</span> <span class="pre">$500]</span></code></p>
</div>
<div class="section" id="searching-on-geographic-locations">
<h2>Searching on geographic locations<a class="headerlink" href="#searching-on-geographic-locations" title="Permalink to this headline">¶</a></h2>
<p>When searching on geographic locations, you have two options. You can either search within a bounding box specified by two latitude/longitude pairs or you can search for anything with a specified distance of a latitude/longitude point.</p>
<p>To search within a bounding box:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.georeference:ca_objects.georeference:&quot;[40.341,-71.011</span> <span class="pre">to</span> <span class="pre">45.322,</span> <span class="pre">-75.963]&quot;</span></code></p>
<p>Note that the latitudes and longitudes should be decimal and separated with &#8220;to&#8221;, &#8221; - &#8221; or &#8221;..&#8221;; the entire range should be enclosed in both square brackets (&#8220;[&#8221; and &#8220;]) and quotes. If you don&#8217;t use quotes on the part of the query up to the first space will be parts as geographic - not what you want.</p>
<p>To search the area within a specified radius of a point, use this kind of search:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.georeference:ca_objects.georeference:&quot;[40.5759250,-73.9911350</span> <span class="pre">~</span> <span class="pre">5km]&quot;</span></code></p>
<p>As with the bounding box query, enclose the search expression in square brackets and quotes. The maximum distance from the point can be specified in any of the units of length supported by the &#8220;Length&#8221; attribute type. The above query will find anything geocoded as being within 5 kilometers of the specified point.</p>
</div>
<div class="section" id="searching-for-blank-values">
<h2>Searching for blank values<a class="headerlink" href="#searching-for-blank-values" title="Permalink to this headline">¶</a></h2>
<p>As of version 1.4 you may search for item that have no content in a specific field using the special [BLANK] search term. [BLANK] must be used in conjunction with field specification and must be enclosed in double quotes. The following example will return all objects lacking descriptions:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.description:&quot;[BLANK]&quot;</span></code></p>
</div>
<div class="section" id="access-points">
<h2>Access points<a class="headerlink" href="#access-points" title="Permalink to this headline">¶</a></h2>
<p>Typing ca_objects.description:grafitti every time you want to search for the word &#8220;grafitti&#8221; in the element &#8220;description&#8221; gets old quick, and certainly doesn&#8217;t look very pretty. To simplify the specification of field and element-limited searches, CA supports the definition of &#8220;access points.&#8221; Access points are simply lists of field and element specifications, defined in the search_indexing.conf configuration file, the names of which may be used in place of the actual specification. For example, you could do the &#8216;description&#8217; search like this:</p>
<p><code class="docutils literal"><span class="pre">picText:grafitti</span></code></p>
<p>assuming that an access point like this was defined in search_indexing.conf:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>picText = {
        fields = [ca_objects.description]
},
</pre></div>
</div>
</div>
<div class="section" id="boolean-combination">
<h2>Boolean combination<a class="headerlink" href="#boolean-combination" title="Permalink to this headline">¶</a></h2>
<p>Search expressions can be combined using the standard boolean &#8220;AND&#8221; and &#8220;OR&#8221; operators. Simply join together your search expressions with the words AND and OR. For example the query</p>
<p><code class="docutils literal"><span class="pre">ca_objects.appraisal_value:[$0</span> <span class="pre">to</span> <span class="pre">$500]</span> <span class="pre">AND</span> <span class="pre">ca_objects.description:broken</span></code></p>
<p>will find all objects with BOTH an appraisal value of $500 or less and the word &#8220;broken&#8221; is their description. In contrast the query</p>
<p><code class="docutils literal"><span class="pre">ca_objects.appraisal_value:[$0</span> <span class="pre">to</span> <span class="pre">$500]</span> <span class="pre">OR</span> <span class="pre">ca_objects.description:broken</span></code></p>
<p>will find objects with EITHER an appraisal value of $500 or less or the word &#8220;broken&#8221; in their description.</p>
<p>If you omit AND/OR between two search expressions, AND is assumed.</p>
</div>
<div class="section" id="wildcards">
<h2>Wildcards<a class="headerlink" href="#wildcards" title="Permalink to this headline">¶</a></h2>
<p>The asterisk (&#8220;*&#8221;) is used as a wildcard character. That is, it matches any text. Wildcards may only be used at the end of a word, to match words that start your search term. For example:</p>
<p><code class="docutils literal"><span class="pre">wri*</span></code></p>
<p>would find records associated with words starting with the text &#8220;wri&#8221; Note that if your installation has &#8220;stemming&#8221; enabled, many English language words will automatically have their suffixes truncated and a wildcard appended. Thus, with stemming on, a query for &#8220;baking&#8221; or &#8220;baked&#8221; or &#8220;baker&#8221; would be transformed to &#8220;bak*&#8221; The stemmer is smart enough to not attempt truncation of a term you&#8217;ve added a wildcard to yourself. If you search for &#8220;bake*&#8221; the stemmer will leave it as-is.</p>
</div>
<div class="section" id="searching-on-creation-and-modification-dates">
<h2>Searching on creation and modification dates<a class="headerlink" href="#searching-on-creation-and-modification-dates" title="Permalink to this headline">¶</a></h2>
<p>You can search on the creation and modification dates of records using the special created and modified access points together with a valid date/time expression. For example, to find everything created on April 12, 2012 you can search using:</p>
<p><code class="docutils literal"><span class="pre">created:&quot;April</span> <span class="pre">12</span> <span class="pre">2012&quot;</span></code></p>
<p>or</p>
<p><code class="docutils literal"><span class="pre">created:&quot;4/12/2012&quot;</span></code></p>
<p>or with any other valid date/time expression. Any range will work, including ones that specify time and ones that are by month or year.</p>
<p>You can limit the returned items to those created or modified by a specific user by adding a valid user name after the access point. For example, to find things modified by user &#8220;catherine&#8221; on April 2012 you can search using:</p>
<p><code class="docutils literal"><span class="pre">modified.catherine:&quot;4/2012&quot;</span></code></p>
<p>Note that the user name is separated from the access point by a period (&#8221;.&#8221;), and that the name of the user is their login user name, not their full name. Their login user name may be, but is not always, the user&#8217;s email address.</p>
</div>
<div class="section" id="searching-on-counts">
<h2>Searching on counts<a class="headerlink" href="#searching-on-counts" title="Permalink to this headline">¶</a></h2>
<p>As of version 1.7 it is possible to index the number of relationships and repeating per metadata element for search. For relationships, counts may be broken out by relationship type, related item type, or both. Count queries are useful for locating records without specific relationships (eg. find objects without entities related as artist) or with potential problems (eg. find objects with between 10 and 100 related entities).</p>
<p>By default count indexing is only enabled on object-entity relationships, and broken out by relationship type. You may configure indexing of other counts in the search_indexing.conf configuration file.</p>
<p>Relationship counts may be queried using the relationship table name followed by the special count field. For example, in an object search to find all objects related to exactly one entities search for:</p>
<p><code class="docutils literal"><span class="pre">ca_objects_x_entities.count:1</span></code></p>
<p>To find all objects with exactly one entity related with the relationship type &#8220;artist&#8221;:</p>
<p><code class="docutils literal"><span class="pre">ca_objects_x_entities.count/artist:1</span></code></p>
<p>To find all objects without related &#8220;artist&#8221; entities:</p>
<p><code class="docutils literal"><span class="pre">ca_objects_x_entities.count/artist:0</span></code></p>
<p>To find all objects with between 2 and 10 related entities:</p>
<p><code class="docutils literal"><span class="pre">ca_objects_x_entities.count:[2</span> <span class="pre">to</span> <span class="pre">10]</span></code></p>
<p>And to find all objects with between 2 and 10 related &#8220;artist&#8221; entities:</p>
<p><code class="docutils literal"><span class="pre">ca_objects_x_entities.count/artist:[2</span> <span class="pre">to</span> <span class="pre">10]</span></code></p>
<p>Note that the the table name used in these examples is &#8220;ca_objects_x_entities&#8221; rather than &#8220;ca_entities&#8221;. When ca_objects_x_entities is indexed with count in search_indexing.conf (it is by default), counts are broken out by relationship type, which is what enables the count queries on relationship type.</p>
<p>You may also index counts on the related record itself (in this case ca_entities), breaking out counts by record type. Assuming your system is configured with the entity types &#8220;individual&#8221; and &#8220;organization&#8221; these queries would be possible:</p>
<p>Find objects with related organizations:</p>
<p><code class="docutils literal"><span class="pre">ca_entities.count/organization:[1</span> <span class="pre">to</span> <span class="pre">100000]</span></code></p>
<p>Find objects with only related individuals:
&lt;code&gt;</p>
<p><code class="docutils literal"><span class="pre">ca_entities.count/individual:[1</span> <span class="pre">to</span> <span class="pre">100000]</span> <span class="pre">and</span> <span class="pre">ca_entities.count/organization:0</span></code></p>
<p>We use a range with an upper bound of 100000 here to ensure that we include objects with any number of entities. Expressions with &lt; and &gt; are not currently supported.</p>
<p>Similarly, the number of values present for each metadata element is indexed and may be queried. This can be useful for locating records that lack a value in a field, or have many values. For example:</p>
<p>To find all object records that lack at least one value in the &#8220;dimensions&#8221; field:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.dimensions.count:0</span></code></p>
<p>To find all objects that have more than 5 values in the &#8220;dimensions&#8221; field:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.dimensions.count:[5</span> <span class="pre">to</span> <span class="pre">100000]</span></code></p>
<p>As with any other search field specification, you may create more convenient aliases for commonly used counts in search_indexing.conf by creating an access point.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="indexing.html" class="btn btn-neutral float-right" title="Indexing Options" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral" title="Introduction to Search &amp; Browse Types" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Whirl-i-Gig.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>