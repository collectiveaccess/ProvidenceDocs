



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mappings &mdash; CollectiveAccess 1.7 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/table_override.css" type="text/css" />
  

  
    <link rel="top" title="CollectiveAccess 1.7 documentation" href="../index.html"/>
        <link rel="next" title="Running an Import" href="running.html"/>
        <link rel="prev" title="Supported File Formats" href="formats.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CollectiveAccess
          

          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Introduction to CollectiveAccess</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/whatIs.html">What is CollectiveAccess?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/whoUses.html">Who uses it?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/why.html">Why should I?</a></li>
</ul>
<p class="caption"><span class="caption-text">Setup &amp; Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/systemReq.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/media.html">Media Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Profiles.html">Profiles</a></li>
</ul>
<p class="caption"><span class="caption-text">How CA Organizes Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../org/records.html">Primary Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/intIDLabel.html">Intrinsics, Identifiers and Labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/Relationships.html">Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/interstitial.html">Interstitial Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/dateTime.html">Date and Time Formats</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuring Providence (Front-End)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../providence/Locales.html">Locales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/listsAuthorities.html">Lists and Authorities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/interfaces.html">User Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/together.html">Putting It All Together</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/profiles.html">Writing Your Own Installation Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/system.html">System Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/identifiers.html">Identifiers</a></li>
</ul>
<p class="caption"><span class="caption-text">Search &amp; Browse</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/intro.html">Intro to Search Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/syntax.html">Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/indexing.html">Indexing Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/engines.html">Search Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/advanced.html">Advanced Search Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/query.html">Query Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/facets.html">Browse Facets</a></li>
</ul>
<p class="caption"><span class="caption-text">Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reporting/displays.html">Using Displays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/templates.html">Display Template Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/export.html">Exporting Search &amp; Browse Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/pdfOut.html">PDF Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/labels.html">Generating Labels</a></li>
</ul>
<p class="caption"><span class="caption-text">Workflow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflow/sets.html">Creating Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/status.html">Status Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/access.html">Access Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/location.html">Tracking Current Object Location</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/history.html">Maintaining Object Use History</a></li>
</ul>
<p class="caption"><span class="caption-text">Import</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Basic Importer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Supported File Formats</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running an Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="worldcat.html">WorldCat</a></li>
<li class="toctree-l1"><a class="reference internal" href="getty.html">Getty Vocabularies</a></li>
</ul>
<p class="caption"><span class="caption-text">Export</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../export/formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/mappings.html">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/running.html">Running an Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../administration/control.html">User Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/maint.html">Maintenance Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Customizing Pawtucket</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/intro.html">Introduction to Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/general.html">General Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/media.html">Media Display &amp; Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/access.html">Public Access Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/reg.html">Login &amp; Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/static.html">Homepage &amp; Static Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/searchBrowse.html">Search &amp; Browse Pages and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/detail.html">Detail Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/lightbox.html">Lightboxes &amp; Galleries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/classrooms.html">Classrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/contact.html">Contact &amp; Mail Templates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/APIs.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/FAQs.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/Glossaries.html">Glossaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/prior.html">Prior Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CollectiveAccess</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Mappings</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mappings">
<h1>Mappings<a class="headerlink" href="#mappings" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#settings" id="id2">Settings</a></li>
<li><a class="reference internal" href="#rules" id="id3">Rules</a></li>
<li><a class="reference internal" href="#source" id="id4">Source</a></li>
<li><a class="reference internal" href="#ca-table-element" id="id5">CA_table.element</a></li>
<li><a class="reference internal" href="#group" id="id6">Group</a></li>
<li><a class="reference internal" href="#refineries" id="id7">Refineries</a><ul>
<li><a class="reference internal" href="#splitters" id="id8">Splitters</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>An import mapping is a spreadsheet that defines how data is imported into CollectiveAccess. A basic introduction to writing and running an import mapping is provided in our <a class="reference internal" href="tutorial.html"><span class="doc">Basic Data Import Tutorial</span></a>. This page provides a detailed look at the available settings and options available through the import mapping. It is organized by column (again, see the tutorial for a simpler breakdown of the available columns), with a description of the function of each column along with the available settings for that column.</p>
<p>Import Mappings operate under two basic assumption about your data:
1. That each row in a data set corresponds to a single record
2. That each column corresponds to a single metadata element.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is not universal. In general most mappings will follow the one row one record principle, but they can support an option called treatAsIdentifiersForMultipleRows that will explode a single row into multiple records. This is very useful if, say, you&#8217;re doing a merge_on_idno (more on that below) and you have a data source that references common metadata shared by many pre-existing records in a single row.</p>
</div>
</div>
<div class="section" id="settings">
<h2><a class="toc-backref" href="#id2">Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>The overall settings, including the name, the format of the input data and other import settings are defined here. This section can be placed at the top or bottom of a mapping spreadsheet with the setting in the first column and the provided parameter in the second. It functions separately from the main, column defined, body of the import mapping.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="36%" />
<col width="36%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Setting</th>
<th class="head">Description</th>
<th class="head">Parameter notes</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Human readable name of the mapping</td>
<td>Arbitrary text</td>
<td>My mapping</td>
</tr>
<tr class="row-odd"><td>code</td>
<td>Alphanumeric code of the mapping</td>
<td>Arbitrary, no special characters or spaces</td>
<td>my_mapping</td>
</tr>
<tr class="row-even"><td>inputFormats</td>
<td>Sets types of source (input) data that can be handled by this import mapping. Values are format codes defined by the various DataReader plugins. You can specify multiple formats by specifying their format codes in a semicolon delimited list. If you omit this setting then the mapping is assumed to be valid for any data type which, of course, is very unlikely.</td>
<td>file type</td>
<td>XLSX</td>
</tr>
<tr class="row-odd"><td>table</td>
<td>Sets the table for the imported data</td>
<td>Corresponds to the CollectiveAccess basic tables</td>
<td>ca_objects</td>
</tr>
<tr class="row-even"><td>type</td>
<td>Type to set all imported records to. If import includes a mapping to type_id, that will be privileged and the type setting will be ignored.</td>
<td>CollectiveAccess list item idno</td>
<td>posters</td>
</tr>
<tr class="row-odd"><td>numInitialRowsToSkip</td>
<td>The number of rows at the top of the data set to skip. Use this setting to skip over column headers in spreadsheets and similar data.</td>
<td>numeric value</td>
<td>2</td>
</tr>
<tr class="row-even"><td>existingRecordPolicy</td>
<td>Determines how existing records in the CollectiveAccess system are checked for and handled for the mapping. Also determines how records created by the mapping are merged with other instances (idno and/or preferred label) in the data source.</td>
<td>none; skip_on_idno; merge_on_idno; overwrite_on_idno; skip_on_preferred_labels; merge_on_preferred_labels; overwrite_on_preferred_labels; skip_on_idno_and_preferred_labels; merge_on_idno_and_preferred_labels; overwrite_on_idno_and_preferred_labels; merge_on_idno_with_replace; merge_on_preferred_labels_with_replace; merge_on_idno_and_preferred_labels_with_replace</td>
<td>none</td>
</tr>
<tr class="row-odd"><td>errorPolicy</td>
<td>Determines how errors are handled for the import. &#8220;Stop&#8221; will halt the entire import on any error.</td>
<td>ignore; stop</td>
<td>ignore</td>
</tr>
<tr class="row-even"><td>archiveMapping</td>
<td>Set to yes to save the mapping spreadsheet; no to delete it from the server after import</td>
<td>yes; no</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>archiveDataSets
<strong>(Implementation Pending)</strong></td>
<td>Set to yes to save the data spreadsheet or no to delete it from the server after import</td>
<td>yes; no</td>
<td>yes</td>
</tr>
<tr class="row-even"><td>basePath</td>
<td>For XML input formats only, basePath contains anXPath expression used to supply a set of XML nodes that are to be treated, for purposes of import, as individual records. Many XML formats require the basePath setting for data import to be possible.</td>
<td>XML tags</td>
<td>/text/body/div</td>
</tr>
<tr class="row-odd"><td>environment</td>
<td>Allows you to define a source expression that will be evaluated outside of basePath. Whatever value is in this source can be stored inside a variable. Then, this variable can be used as a source in the mapping itself, allowing the user to retrieve this value in a mapping that is otherwise evaluated inside of basePath.</td>
<td>environment | 2 | myVariable</td>
<td>Any source value. (E.g. ^2, /TEI/teiHeader/title)</td>
</tr>
<tr class="row-even"><td>errorPolicy</td>
<td>Determines how errors are handled for the import. &#8220;Stop&#8221; will halt the entire import on any error.</td>
<td>ignore; stop</td>
<td>ignore</td>
</tr>
<tr class="row-odd"><td>locale</td>
<td>Set locale for all imported data. If not set the system&#8217;s default locale is used.</td>
<td>DEFAULT or locale code (ex. en_US, de_DE, fr_CA)</td>
<td>DEFAULT</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rules">
<h2><a class="toc-backref" href="#id3">Rules</a><a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h2>
<p>Each row in the mapping must have a rule defined that determins how the importer will treat the record. Available rules are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Rule type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Mapping</td>
<td>Maps a data source column or table.field to a CollectiveAccess metadata element. Mappings can carry refineries (see below).</td>
</tr>
<tr class="row-odd"><td>SKIP</td>
<td>Use SKIP to ignore a data source column or table.field.</td>
</tr>
<tr class="row-even"><td>Constant</td>
<td>Set a data source column or table.field to an arbitrary constant value. Include the chosen value in the Source column on the mapping spreadsheet. Matches on CollectiveAccess list item idno.</td>
</tr>
<tr class="row-odd"><td>Rule</td>
<td>Performs actions during the import (such as skipping or setting data) based on conditional expressions. Made up of two parts: &#8220;Rule triggers&#8221; and &#8220;Rule actions.&#8221;</td>
</tr>
<tr class="row-even"><td>Setting</td>
<td>Sets preferences for the mapping (see below).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="source">
<h2><a class="toc-backref" href="#id4">Source</a><a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>The Source column is used to set precisely which element from the data source is to be mapped or skipped. You can also set a constant data value, rather than a mapping, by setting the rule type to &#8220;Constant&#8221; and the Source column as the value or list item idno from your CollectiveAccess configuration.</p>
<p>Supported import formats are:</p>
<p>Currently: XLSX, XLS, MYSQL, Filemaker XML, Inmagic XML, PastPerfect XML, Vernon XML, TEI XML, PBCore XML, RDF, ULAN-linked data, MARC, MARCXML, Omeka, EXIF, CollectiveAccess (for migrations from one system to another), WorldCat, TabDelimited, and CSVDelimited.</p>
<p>Planned imminently: OAI-PMH/DC</p>
<p>A full description of the supported import formats and how they may be referenced is available in the <a class="reference internal" href="formats.html"><span class="doc">Supported File Formats</span></a> page.</p>
</div>
<div class="section" id="ca-table-element">
<h2><a class="toc-backref" href="#id5">CA_table.element</a><a class="headerlink" href="#ca-table-element" title="Permalink to this headline">¶</a></h2>
<p>This column declares the destination where the data identified in the Source column will be mapped to in CollectiveAccess. If you are setting the Source to Skip, of course, you do not need to complete this step. If you are mapping data or applying a constant value, you do need to set the destination. This is accomplished by writing the ca_table.element_code.</p>
<p>CA Table corresponds to the CollectiveAccess basic tables, while element_code is simply the unique code you assigned to a particular metadata element in your CA configuration.</p>
<p>For example, to map a Title column from your source data into CollectiveAccess, you may wish to set the CA table.element as:</p>
<p><code class="docutils literal"><span class="pre">ca_objects.preferred_labels</span></code></p>
<p>This would map the data from your Source declaration to the Title field in an Object record in CollectiveAccess.</p>
</div>
<div class="section" id="group">
<h2><a class="toc-backref" href="#id6">Group</a><a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<p>In many cases, distinct lines in a data set will map into their corresponding metadata elements that happen to be bundled together inside of a single container. For example, a common container is Date, wherein there are actually two metadata elements - one for the date itself, and the other a drop-down menu to declare the date&#8217;s type (Date Created, Date Accessioned, etc.)</p>
<p>Let&#8217;s say in your source data there is one column that contains date values, while the next column over contains the date types.</p>
<p>If the corresponding metadata elements in CA are bundled into a container, you must tell this to the mapping document by placing these Source elements into a group. Otherwise, the date value would be mapped to one container, while the date type would be mapped to another container (and each would be missing their counterpart!)</p>
<p>Declaring a Group is simple. Just assign a name to each line that is to be mapped into a single container.</p>
<p>If Source &#8220;2&#8221; is mapping to ca_objects_date.date_value, and Source &#8220;3&#8221; is mapping to ca_objects_date.date_type, then simply give each line the group name &#8220;Date.&#8221; This will tell the mapping that these two lines are going to a single container - and won&#8217;t create a whole new container for each.</p>
</div>
<div class="section" id="refineries">
<h2><a class="toc-backref" href="#id7">Refineries</a><a class="headerlink" href="#refineries" title="Permalink to this headline">¶</a></h2>
<p>Frequently the data being imported into CollectiveAccess does not exactly match the fields available, or some data should have a relationship to one or more other records in CollectiveAccess. Refineries manage this complexity by providing tools that can <strong>Split</strong>, <strong>Make</strong>, <strong>Join</strong>, <strong>Get</strong> and <strong>Build</strong> the data, transforming it according to a provided set of rules. These roles these tools play are:</p>
<div class="section" id="splitters">
<h3><a class="toc-backref" href="#id8">Splitters</a><a class="headerlink" href="#splitters" title="Permalink to this headline">¶</a></h3>
<p>Splitter refineries can either create records or match data to existing records (following a mapping’s existingRecordPolicy) or break a single string of source data into several metadata elements in CollectiveAccess. Splitters for relationships are used when several parameters are required, such as setting a record type and setting a relationship type. Using the entitySplitter, a name in a single location (i.e. column) in a data source can be parsed (into first, middle, last, prefix, suffix, et al.) within the new record. Similarly the measurementSplitter breaks up, for example, a list of dimensions into to a CollectiveAccess container of sub-elements. “Splitter” also implies that multiple data elements, delimited in a single location, can be “split” into unique records related to the imported record.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Splitter</th>
<th class="head">Refinery Options</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>collectionSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-collectiontype"><span class="xref std std-term">collectionType</span></a>, <a class="reference internal" href="#term-collectiontypedefault"><span class="xref std std-term">collectionTypeDefault</span></a>, <a class="reference internal" href="#term-delimiter"><span class="xref std std-term">delimiter</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-odd"><td>entitySplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-delimiter"><span class="xref std std-term">delimiter</span></a>, <a class="reference internal" href="#term-displaynameformat"><span class="xref std std-term">displayNameFormat</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-entitytype"><span class="xref std std-term">entityType</span></a>, <a class="reference internal" href="#term-entitytypedefault"><span class="xref std std-term">entityTypeDefault</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-even"><td>listItemSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-delimiter"><span class="xref std std-term">delimiter</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-odd"><td>loanSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-delimiter"><span class="xref std std-term">delimiter</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-even"><td>measurementsSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-delimiter"><span class="xref std std-term">delimiter</span></a>, <a class="reference internal" href="#term-elements"><span class="xref std std-term">elements</span></a></td>
</tr>
<tr class="row-odd"><td>movementSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-even"><td>placeSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-odd"><td>objectSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-even"><td>objectLotsSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-odd"><td>occurrenceSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
<tr class="row-even"><td>tourStopSplitter</td>
<td><a class="reference internal" href="#term-attributes"><span class="xref std std-term">attributes</span></a>, <a class="reference internal" href="#term-dontcreate"><span class="xref std std-term">dontCreate</span></a>, <a class="reference internal" href="#term-ignoreparent"><span class="xref std std-term">ignoreParent</span></a></td>
</tr>
</tbody>
</table>
<dl class="glossary docutils">
<dt id="term-attributes">attributes</dt>
<dd><p class="first">Sets or maps metadata for the entity record by referencing the metadataElement code and the location in the data source where the data values can be found</p>
<p>See below for additonal <code class="docutils literal"><span class="pre">attribute</span></code> settings for the entitySplitter and objectRepresentationSplitter</p>
<p><strong>Example</strong></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{&quot;attributes&quot;: {
   &quot;address&quot;: {
      &quot;address1&quot;: &quot;^24&quot;,
      &quot;address2&quot;: &quot;^25&quot;,
      &quot;city&quot;: &quot;^26&quot;,
      &quot;stateprovince&quot;: &quot;^27&quot;,
      &quot;postalcode&quot;: &quot;^28&quot;,
      &quot;country&quot;: &quot;^29&quot;
   }
}
        }
</pre></div>
</div>
<p><strong>entitySplitter Additional Properties</strong></p>
<p>To map source data to idnos in an entitySplitter, see the &#8216;attributes&#8217; parameter above. An exception exists for when idnos are set to be auto-generated. To create auto-generated idnos within an entitySplitter, use the following syntax.</p>
<p><code class="docutils literal"><span class="pre">&quot;attributes&quot;:</span> <span class="pre">{&quot;idno&quot;:&quot;%&quot;}</span></code></p>
<p><strong>objectRepresentationSplitter Additional Properties</strong></p>
<p>Sets the attributes for the object representation. &#8220;Media&#8221; sets the source of the media filename in the data, which is what will match on the actual media file in the import directory. Note: filenames in source data may or may not the include file extension, but source data must match filename exactly. Set the media filename to idno, using &#8220;idno&#8221;. Additional attributes, such as the example, &#8220;internal_notes&#8221;, can also be set here.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{&quot;attributes&quot;:{
   &quot;media&quot;: &quot;^1&quot;,
   &quot;internal_notes&quot;: &quot;^2&quot;,
   &quot;idno&quot;: &quot;^1&quot;
}
}
</pre></div>
</div>
<p class="last"><em>Applicable refineries</em>: collectionSplitter, entitySplitter, listItemSplitter, loanSplitter, measurementsSplitter, movementSplitter, placeSplitter, objectSplitter, objectLotsSplitter, occurrenceSplitter, tourStopSplitter</p>
</dd>
<dt id="term-collectiontype">collectionType</dt>
<dd><p class="first">Accepts a constant list item idno from the list collection_types or a reference to the location in the data source where the type can be found</p>
<p><code class="docutils literal"><span class="pre">{&quot;collectionType&quot;:</span> <span class="pre">&quot;box&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: collectionSplitter</p>
</dd>
<dt id="term-collectiontypedefault">collectionTypeDefault</dt>
<dd><p class="first">Sets the default collection type that will be used if none are defined or if the data source values do not match any values in the CollectiveAccess list collection_types</p>
<p><code class="docutils literal"><span class="pre">{&quot;collectionTypeDefault&quot;:&quot;series&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: collectionSplitter</p>
</dd>
<dt id="term-delimiter">delimiter</dt>
<dd><p class="first">Sets the value of the delimiter to break on, separating data source values</p>
<p><code class="docutils literal"><span class="pre">{&quot;delimiter&quot;:</span> <span class="pre">&quot;;&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: collection Splitter, entitySplitter, listItemSplitter, loanSplitter, measurementsSplitter, movementSplitter, placeSplitter, objectSplitter, objectLotSplitter, objectRepresentationSplitter, occurrenceSplitter, tourStopSplitter</p>
</dd>
<dt id="term-displaynameformat">displayNameFormat</dt>
<dd><p class="first">Allows you to format the output of the displayName. Options are: “surnameCommaForename” (forces display name to be surname, forename); “forenameCommaSurname” (forces display name to be forename, surname); “forenameSurname” (forces display name to be forename surname); “original” (is the same as leaving it blank; you just get display name set to the imported text). This option also supports an arbitrary format by using the sub-element codes in a template, i.e. “^surname, ^forename ^middlename”. Doesn&#8217;t support full format templating with &lt;unit&gt; and &lt;ifdef&gt; tags, though.</p>
<p><code class="docutils literal"><span class="pre">{&quot;displaynameFormat&quot;:</span> <span class="pre">&quot;surnameCommaForename&quot;}</span></code></p>
<blockquote class="last">
<div><em>Applicable Refineries</em>: entitySplitter</div></blockquote>
</dd>
<dt id="term-dontcreate">dontCreate</dt>
<dd><p class="first">If set to true (or any non-zero value) the splitter will only do matching and will not create new records when matches are not found.</p>
<p><code class="docutils literal"><span class="pre">{&quot;dontCreate&quot;:</span> <span class="pre">&quot;1&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: collectionSplitter, entitySplitter, listItemSplitter, loanSplitter, movementSplitter, objectLotsSplitter, objectRepresentationSplitter, objectSplitter, occurrenceSplitter, placeSplitter, tourStopSplitter</p>
</dd>
<dt id="term-elements">elements</dt>
<dd><p class="first">Maps the components of the dimensions to specific metadata elements</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{&quot;elements&quot;: [
   {
      &quot;quantityElement&quot;: &quot;measurementWidth&quot;,
      &quot;typeElement&quot;: &quot;measurementsType&quot;,
      &quot;type&quot;: &quot;width&quot;
   },
   {
      &quot;quantityElement&quot;: &quot;measurementHeight&quot;,
      &quot;typeElement&quot;: &quot;measurementsType2&quot;,
      &quot;type&quot;: &quot;height&quot;
   }
]}
</pre></div>
</div>
<p>Note: the typeElement and type sub-components are optional and should only be used in measurement containers that include a type drop-down.</p>
<p class="last"><em>Applicable Refineries</em>: measurementsSplitter</p>
</dd>
<dt id="term-entitytype">entityType</dt>
<dd><p class="first">Accepts a constant list item idno from the list entity_types or a reference to the location in the data source where the type can be found</p>
<p><code class="docutils literal"><span class="pre">{&quot;entityType&quot;:</span> <span class="pre">&quot;person&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: entitySplitter</p>
</dd>
<dt id="term-entitytypedefault">entityTypeDefault</dt>
<dd><p class="first">Sets the default entity type that will be used if none are defined or if the data source values do not match any values in the CollectiveAccess list entity_types</p>
<p><code class="docutils literal"><span class="pre">{&quot;entityTypeDefault&quot;:&quot;individual&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries:</em> entitySplitter</p>
</dd>
<dt id="term-ignoreparent">ignoreParent</dt>
<dd><p class="first">For use with collection hierarchies. When set to true this parameter allows global match across the entire hierarchy, regardless of parent_id. Use this parameter with datasets that include values to be merged into existing hierarchies but that do not include parent information. Paired with matchOn it&#8217;s possible to merge the values using only name or idno, without any need for hierarchy info. Not ideal for situations where multiple matches can not be disambiguated with the information available.</p>
<p><code class="docutils literal"><span class="pre">{&quot;ignoreParent&quot;:</span> <span class="pre">&quot;1&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: collectionSplitter, entitySplitter, listItemSplitter, loanSplitter, movementSplitter, objectLotsSplitter, objectSplitter, occurrenceSplitter, placeSplitter, tourStopSplitter</p>
</dd>
<dt id="term-interstitial">interstitial</dt>
<dd><p class="first">Sets or maps metadata for the interstitial movementRelationship record by referencing the metadataElement code and the location in the data source where the data values can be found.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>{&quot;&quot;interstitial&quot;&quot;: {
   &quot;&quot;relationshipDate&quot;&quot;: &quot;&quot;^4&quot;&quot;
}
</pre></div>
</div>
<p>}</p>
<p class="last"><em>Applicable Refineries</em>: collectionSplitter, entitySplitter, listItemSplitter, loanSplitter, movementSplitter, objectLotsSplitter, objectSplitter, occurrenceSplitter, placeSplitter, tourStopSplitter</p>
</dd>
<dt id="term-list">list</dt>
<dd><p class="first">Enter the list_code for the list that the item should be added to. This is mandatory - if you forget to set it or set it to a list_code that doesn&#8217;t exist the mapping will fail.)</p>
<p><code class="docutils literal"><span class="pre">{&quot;list&quot;:</span> <span class="pre">&quot;list_code&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: listItemSplitter</p>
</dd>
<dt id="term-listitemtype">listItemType</dt>
<dd><p class="first">Accepts a constant list item idno from the list or a reference to the location in the data source where the type can be found.</p>
<p><code class="docutils literal"><span class="pre">{&quot;listItemType&quot;:</span> <span class="pre">&quot;concept&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: listItemSplitter</p>
</dd>
<dt id="term-listitemtypedefault">listItemTypeDefault</dt>
<dd><p class="first">Sets the default list item type that will be used if none are defined or if the data source values do not match any values in the CollectiveAccess list list_item_types</p>
<p><code class="docutils literal"><span class="pre">{&quot;listItemTypeDefault&quot;:&quot;concept&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: listItemSplitter</p>
</dd>
<dt id="term-loantype">loanType</dt>
<dd><p class="first">Accepts a constant list item from the list loan_types</p>
<p><code class="docutils literal"><span class="pre">{&quot;loanType&quot;:&quot;out&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: loanSplitter</p>
</dd>
<dt id="term-loantypedefault">loanTypeDefault</dt>
<dd><p class="first">Sets the default loan type that will be used if none are defined or if the data source values do not match any values in the CollectiveAccess list loan_types.</p>
<p><code class="docutils literal"><span class="pre">{&quot;loanTypeDefault&quot;:&quot;in&quot;}</span></code></p>
<p class="last"><em>Applicable Refineries</em>: loanSplitter</p>
</dd>
<dt id="term-matchon">matchOn</dt>
<dd><p class="first">From version 1.5. Defines exactly how the splitter will establish matches with pre-existing records. You can set the splitter to match on idno, or labels. You can also include both labels and idno in the matchOn parameter, and it will try multiple matches in the order specified.</p>
<p class="last">&#8220;<code class="docutils literal"><span class="pre">{&quot;&quot;matchOn&quot;&quot;:</span> <span class="pre">[&quot;&quot;labels&quot;&quot;,</span> <span class="pre">&quot;&quot;idno&quot;&quot;]}</span></code> -Will try to match on labels first, then idno.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">{&quot;&quot;matchOn&quot;&quot;:</span> <span class="pre">[&quot;&quot;idno&quot;&quot;,</span> <span class="pre">&quot;&quot;labels&quot;&quot;]}</span></code> - Will do the opposite, first idno and then labels.</p>
<p>You can also limit matching by doing one or the other. Eg:
{&#8220;&#8221;matchOn&#8221;&#8221;: &#8220;&#8221;idno&#8221;&#8220;]} will only match on idno.</p>
<p>{&#8220;&#8221;matchOn&#8221;&#8221;: [&#8220;&#8221;^ca_collections.your_custom_code&#8221;&#8220;]} will match on a custom metadata element in the collection record. Use the syntax ^ca_collections.metadataElement code.&#8221;</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="running.html" class="btn btn-neutral float-right" title="Running an Import" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="formats.html" class="btn btn-neutral" title="Supported File Formats" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Whirl-i-Gig.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>