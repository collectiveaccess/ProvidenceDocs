



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic Data Import Tutorial &mdash; CollectiveAccess 1.7 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/table_override.css" type="text/css" />
  

  
    <link rel="top" title="CollectiveAccess 1.7 documentation" href="../index.html"/>
        <link rel="next" title="Supported File Formats" href="formats.html"/>
        <link rel="prev" title="Maintaining object use history" href="../workflow/history.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> CollectiveAccess
          

          
          </a>

          
            
            
              <div class="version">
                1.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Introduction to CollectiveAccess</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/whatIs.html">What is CollectiveAccess?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/whoUses.html">Who uses it?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/why.html">Why should I?</a></li>
</ul>
<p class="caption"><span class="caption-text">Setup &amp; Install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../setup/systemReq.html">System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/media.html">Media Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup/Profiles.html">Profiles</a></li>
</ul>
<p class="caption"><span class="caption-text">How CA Organizes Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../org/records.html">Primary Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/intIDLabel.html">Intrinsics, Identifiers and Labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/Relationships.html">Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/interstitial.html">Interstitial Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../org/dateTime.html">Date and Time Formats</a></li>
</ul>
<p class="caption"><span class="caption-text">Configuring Providence (Front-End)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../providence/Locales.html">Locales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/listsAuthorities.html">Lists and Authorities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/metadata.html">Metadata Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/interfaces.html">User Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/together.html">Putting It All Together</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/profiles.html">Writing Your Own Installation Profile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/system.html">System Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../providence/identifiers.html">Identifiers</a></li>
</ul>
<p class="caption"><span class="caption-text">Search &amp; Browse</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/intro.html">Intro to Search Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/syntax.html">Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/indexing.html">Indexing Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/engines.html">Search Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/advanced.html">Advanced Search Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/query.html">Query Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../searchBrowse/facets.html">Browse Facets</a></li>
</ul>
<p class="caption"><span class="caption-text">Reporting</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reporting/displays.html">Using Displays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/templates.html">Display Template Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/export.html">Exporting Search &amp; Browse Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/pdfOut.html">PDF Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting/labels.html">Generating Labels</a></li>
</ul>
<p class="caption"><span class="caption-text">Workflow</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workflow/sets.html">Creating Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/status.html">Status Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/access.html">Access Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/location.html">Tracking Current Object Location</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/history.html">Maintaining Object Use History</a></li>
</ul>
<p class="caption"><span class="caption-text">Import</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic Importer Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="mappings.html">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running an Import</a></li>
<li class="toctree-l1"><a class="reference internal" href="worldcat.html">WorldCat</a></li>
<li class="toctree-l1"><a class="reference internal" href="getty.html">Getty Vocabularies</a></li>
</ul>
<p class="caption"><span class="caption-text">Export</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../export/formats.html">Supported File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/mappings.html">Mappings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../export/running.html">Running an Export</a></li>
</ul>
<p class="caption"><span class="caption-text">Administration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../administration/control.html">User Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../administration/maint.html">Maintenance Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Customizing Pawtucket</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/intro.html">Introduction to Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/general.html">General Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/media.html">Media Display &amp; Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/access.html">Public Access Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/reg.html">Login &amp; Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/static.html">Homepage &amp; Static Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/searchBrowse.html">Search &amp; Browse Pages and Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/detail.html">Detail Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/lightbox.html">Lightboxes &amp; Galleries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/classrooms.html">Classrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pawtucket/contact.html">Contact &amp; Mail Templates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/APIs.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/FAQs.html">FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/Glossaries.html">Glossaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/prior.html">Prior Releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CollectiveAccess</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Basic Data Import Tutorial</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-data-import-tutorial">
<h1>Basic Data Import Tutorial<a class="headerlink" href="#basic-data-import-tutorial" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#introduction" id="id1">Introduction</a></li>
<li><a class="reference internal" href="#rule-types-column-1" id="id2">1. Rule types (Column 1)</a></li>
<li><a class="reference internal" href="#settings" id="id3">2. Settings</a></li>
<li><a class="reference internal" href="#source-column-2" id="id4">3. Source (Column 2)</a></li>
<li><a class="reference internal" href="#ca-table-element-column-3" id="id5">4. CA table.element (Column 3)</a></li>
<li><a class="reference internal" href="#group-column-4" id="id6">5. Group (Column 4)</a></li>
<li><a class="reference internal" href="#options-column-5" id="id7">6. Options (Column 5)</a></li>
<li><a class="reference internal" href="#refinery-column-6" id="id8">7. Refinery (Column 6)</a></li>
<li><a class="reference internal" href="#refinery-parameters-column-7" id="id9">8. Refinery parameters (Column 7)</a></li>
<li><a class="reference internal" href="#original-values-replacement-values-columns-8-9" id="id10">9. Original values/Replacement values (Columns 8 &amp; 9)</a></li>
<li><a class="reference internal" href="#source-description-notes-columns-10-11" id="id11">10. Source Description &amp; Notes (Columns 10 &amp; 11)</a></li>
<li><a class="reference internal" href="#importing-the-sample-data" id="id12">11. Importing the sample data</a></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This tutorial will provide you with the very basics of writing a custom import mapping, using an example mapping document, sample data, and a basic profile configuration for Providence.</p>
<p>The tutorial is only intended to be a simple overview of basic import mapping principles. For more exhaustive and complete documentation of the many various options and rules, please refer to the Data Importer page.</p>
<p>To begin this tutorial, download the following three files.</p>
<div class="line-block">
<div class="line"><a class="reference external" href="http://docs.collectiveaccess.org/images/c/ca/Sample_mapping.xlsx">Sample mapping.xlsx</a></div>
<div class="line"><a class="reference external" href="http://docs.collectiveaccess.org/images/6/68/Sample_data.xlsx">Sample data.xlsx</a></div>
<div class="line"><a class="reference external" href="http://docs.collectiveaccess.org/images/f/fc/Sample_import_profile.xml">Sample import profile.xml</a></div>
<div class="line"><br /></div>
</div>
<p>At its simplest, the import mapping is essentially a schema crosswalk: for every data source you list, you declare a target &#8220;destination&#8221; for where the data should end up in CollectiveAccess. However, there are several additional rules and parameters you can set to ensure the &#8220;data reader&#8221; can correctly parse and process the data.</p>
<p>Here is a column-by-column explanation of each component of the import mapping document.</p>
</div>
<div class="section" id="rule-types-column-1">
<span id="import-rule-types"></span><h2><a class="toc-backref" href="#id2">1. Rule types (Column 1)</a><a class="headerlink" href="#rule-types-column-1" title="Permalink to this headline">¶</a></h2>
<p>For each line in your import mapping document, you must declare a rule type. This basically just sets what each line&#8217;s job is going to be during the import. The complete list of rules can be found on the Data Importer page, but these are the rules necessary to run a basic import, and sufficient for most data imports.</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Rule type</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Mapping</td>
<td>Maps a data source (such as a column in an Excel spreadsheet or a specific tag in XML) to a CollectiveAccess metadata element.</td>
</tr>
<tr class="row-odd"><td>Skip</td>
<td>Use Skip to ignore a data source.</td>
</tr>
<tr class="row-even"><td>Constant</td>
<td>Sets an arbitrary constant value. Add the value to the source column and the value will be set in the corresponding metadata element for every record that is imported.</td>
</tr>
<tr class="row-odd"><td>Setting</td>
<td>Sets general preferences for the mapping overall (SEE BELOW).</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="settings">
<span id="import-settings"></span><h2><a class="toc-backref" href="#id3">2. Settings</a><a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>Every import mapping requires a few general settings, explained below. Again, the complete list of settings can be found here, but these are the most basic and required settings to get started and handle most simple imports.</p>
<p>In our example mapping, we have set the name to Sample Mapping and code to sample_mapping. Because our sample data is in an Excel spreadsheet, we&#8217;ve set the inputFormat to XLSX. Our source data contains Objects, so we&#8217;ve set the table to ca_objects. Our system is empty (no records have been imported yet!) so the existingRecordPolicy is set to none. Finally, we are importing photographs, which in our profile corresponds to the object type code image.</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="50%" />
<col width="20%" />
<col width="15%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Setting</th>
<th class="head">Description</th>
<th class="head">Parameter notes</th>
<th class="head">Example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>name</td>
<td>Give your mapping a name.</td>
<td>Arbitrary text</td>
<td>My Sample mapping</td>
</tr>
<tr class="row-odd"><td>code</td>
<td>Give your mapping an alphanumeric code of the mapping</td>
<td>Arbitrary text, with no special characters or spaces</td>
<td>my_sample_mapping</td>
</tr>
<tr class="row-even"><td>inputFormats</td>
<td>Sets type of source (input) data that can be handled by this import mapping. Values are format codes defined by the various DataReader plugins.</td>
<td>file type</td>
<td>XLSX</td>
</tr>
<tr class="row-odd"><td>table</td>
<td>Sets the table for the imported data. If you are importing Objects, set the table to ca_objects. If you are importing Collections, set this to ca_collections, and so on.</td>
<td>Corresponds to&nbsp;the CollectiveAccess basic tables</td>
<td>ca_objects</td>
</tr>
<tr class="row-even"><td>type</td>
<td>Set the Type of record to set all imported records to. If you are importing Objects, what type are they? Photographs, Artifacts, Paintings, etc. This value needs to correspond to an&nbsp;existing value in the the types list. For objects, the list isobject_types. If the import includes a mapping to type_id, that will be privileged and the type setting will be ignored.</td>
<td>CollectiveAccess list item code</td>
<td>image</td>
</tr>
<tr class="row-odd"><td>numInitialRowsToSkip</td>
<td>The number of rows at the top of the data set to skip. Use this setting to skip over column headers in spreadsheets and similar data.</td>
<td>numeric value</td>
<td>1</td>
</tr>
<tr class="row-even"><td>existingRecordPolicy</td>
<td><p class="first">Determines how existing records in the CollectiveAccess system are checked for and handled for the mapping. Also determines how records created by the mapping are merged with other instances (idno and/or preferred label) in the data source.</p>
<p class="last">(In CollectiveAccess, the primary ID field is &#8220;idno&#8221; and the title/name field of each record is &#8220;preferred_label&#8221;.)</p>
</td>
<td>none; 
skip_on_idno; 
merge_on_idno; 
overwrite_on_idno; 
skip_on_preferred_labels; 
merge_on_preferred_labels; overwrite_on_preferred_labels; skip_on_idno_and_preferred_labels;
merge_on_idno_a-
nd_preferred_labels;
overwrite_on_id-
no_and_preferred_labels; merge_on_idno_with_replace;
merge_on_preferre-
d_labels_with_replace;
merge_on_idno_and_preferre-
d_labels_with_replace</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Finally, you will notice that the source data contains a header in the first line, indicating what each column represents. Since we don&#8217;t want to actually import this line as data, we&#8217;ll set numInitialRowsToSkip to 1, meaning the data importer will skip the first line of the source data document.</p>
</div>
<div class="section" id="source-column-2">
<span id="import-source"></span><h2><a class="toc-backref" href="#id4">3. Source (Column 2)</a><a class="headerlink" href="#source-column-2" title="Permalink to this headline">¶</a></h2>
<p>The second column in the mapping document is where you cite all data sources you wish to import. This is the first part of the crosswalk essentially. For data that is stored in Excel, citing the source is easy - simply cite the numbers of each column you want to import (Column A=1, Column B=2, and so on.)</p>
<p>Excel Tip: Corresponding A, B, C with 1, 2, 3 is easy enough, but when your source data has more than ten columns or so it can be kind of a pain to come up with the numeric equivalent of each letter. However, in Excel&#8217;s preferences you can change the columns to display numerically rather than alphabetically. Go to Excel Preferences and select &#8220;General.&#8221; Click the option to &#8220;Use R1C1 reference style.&#8221; This will display the column values as numbers.</p>
<p>In the example we&#8217;re using for this tutorial, the sample data is in Excel. However, you may need to import data that is in an XML format. XML sources are cited in xPath, which is the standard syntax for retrieving data encoded in XML. Documentation regarding xPath be found here.</p>
<p>Our source data sample contains 10 columns of data, and each are listed in the mapping document under Source.</p>
<p>Source data columns may also be referenced elsewhere in the import mapping (generally in the Options or Refinery columns described below) by prefixing the column number with a caret &#8220;^&#8221; (for example &#8220;^10&#8221;), which indicates to the mapping that the value from column 10 should be inserted.</p>
<p>This allows multiple columns to be combined by using the Options settings and is frequently used within the Refineries to create detailed related entities, collections etc.</p>
</div>
<div class="section" id="ca-table-element-column-3">
<span id="import-element"></span><h2><a class="toc-backref" href="#id5">4. CA table.element (Column 3)</a><a class="headerlink" href="#ca-table-element-column-3" title="Permalink to this headline">¶</a></h2>
<p>In the mapping&#8217;s third column, you declare the destination, or target, for each source.</p>
<p>Most of the time, the import target is simply expressed as ca_table.element code. For example, ca_objects.description in our sample mapping and profile would take the values from column 5 in the sample data and import them to the Description field in the Object editor.</p>
<p>The correct way to cite the primary tables can be found here. Which table you use will likely correspond (in most, but not all cases) to the table you declared in the Setting table.</p>
<p>When you are importing to simple free text, DateRange, Numeric, Currency, or other kinds of datatypes, ca_table.element code is about all you need.</p>
<p>However, there are a few cases where some additional steps are involved.</p>
<p>Mapping to Containers: A Container is a metadata element that contains sub-elements. In order to import to specific sub-elements within a Container, you must cite the element codes for both the Container itself, as well as the code for the sub-element that is your ultimate target.</p>
<p>In our sample mapping, the Date import is an example of this. In the sample profile, you&#8217;ll notice that the Date field is actually a container with two sub-elements: a date range field for the date itself, and a date type drop-down menu to qualify the date.</p>
<p>Here, we import the date from the Column 3 in our source data to ca_objects.date.date_value, where date is the element for the container and date_value is the element code for the final import destination.</p>
<p>Often times when you are importing to a Container, you&#8217;ll be mapping to multiple sub-elements withing the same Container instance. That&#8217;s where the Group column comes in, which we&#8217;ll explain in the next section.</p>
<p>Finally, all of the above is assuming that your data corresponds to the primary table of your import mapping. That is, you have object-level data importing to the object table.</p>
<p>However, data will usually contain references to related tables, such as related entities, related lots, related collections, related storage locations, and so on.</p>
<p>In order to import data of one table (like ca_objects) while also creating and related records of other tables (like ca_entities), you will need to use refineries, which are explained in the following sections.</p>
<p>But all you need to know now is that when your mapping includes references to a table outside the primary table, you usually just need to cite the table name in this column.</p>
<p>For example, Source 2 is mapped simply to ca_entities in the sample mapping. All of the actual details happen over in the refinery parameters.</p>
<p>The solo exception to this is when you are creating Lot records. In this case, you set the ca_table.element_code to ca_objects.lot_id. This exception is expressed in the sample mapping.</p>
</div>
<div class="section" id="group-column-4">
<span id="import-group"></span><h2><a class="toc-backref" href="#id6">5. Group (Column 4)</a><a class="headerlink" href="#group-column-4" title="Permalink to this headline">¶</a></h2>
<p>Declaring a Group is a simple way to ensure that all of your mappings to a Container actually end up in the same Container instance. You only need to use this column when you are mapping to Container elements.</p>
<p>In the example, we are mapping column 3 to ca_objects.date.date_value and using the constant rule to set ca_objects.date.date_type to &#8220;date created&#8221;.</p>
<p>But without declaring both of these distinct mapping lines members of the same Group, you&#8217;d end up with one Date container instance with the Date itself, and another Date container instance with the Date Type! To make sure both the Date itself and the date type end up in the same instance of the Date container, simply assign them to the same group in the fourth mapping column.</p>
<p>The name you assign the group is arbitrary, but it should be something that is recognizable to you. In our example, I&#8217;ve simply called the group &#8220;Date&#8221;.</p>
</div>
<div class="section" id="options-column-5">
<span id="import-options"></span><h2><a class="toc-backref" href="#id7">6. Options (Column 5)</a><a class="headerlink" href="#options-column-5" title="Permalink to this headline">¶</a></h2>
<p>Options, expressed in the fifth column of the mapping document, can be used to set a variety of conditions on the import, process data that needs clean-up, or format the data with templates. Our example contains just a couple of the more basic, but super useful options. A complete list of options can be found here.</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="51%" />
<col width="15%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type of Option</th>
<th class="head">Description</th>
<th class="head">Parameter notes</th>
<th class="head">Example for &#8220;Options&#8221; column of mapping</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>skipIfEmpty</td>
<td>If the data value corresponding to this mapping is empty, skip the mapping line.</td>
<td>set to a non-zero value</td>
<td>{&#8220;skipIfEmpty&#8221;: 1}</td>
</tr>
<tr class="row-odd"><td>delimiter</td>
<td>Delimiter to split repeating values on.</td>
<td>delimiter value</td>
<td>{&#8220;delimiter&#8221;: &#8221;;&#8221;}</td>
</tr>
</tbody>
</table>
<p>In the sample mapping, note the delimiter option set on our mapping to ca_objects.subject. Now refer to the second record in our sample data. You&#8217;ll notice that there are multiple subject values in the same cell that are separated by semi-colons. By setting the delimiter option in the mapping, you are ensuring that these subject values get parsed and imported to discrete instances of the Subject field. Without the delimiter option, the entire string would end up a single instance of the Subject field.</p>
</div>
<div class="section" id="refinery-column-6">
<span id="import-refinery"></span><h2><a class="toc-backref" href="#id8">7. Refinery (Column 6)</a><a class="headerlink" href="#refinery-column-6" title="Permalink to this headline">¶</a></h2>
<p>If your data import requires related records, then you need to use refineries. In other words, let&#8217;s say in one case you are importing objects and all you need to bring in are Titles, Identifiers, Dates, and Description. No refinery will be needed here. On the other hand, say you need to import Titles, Identifiers, Dates, Description, and Creators... and the creators will be related to the Objects as Entities. This is where refineries come along.</p>
<p>While you can get really complex with refinery parameters, at its most basic a refinery simply creates a record, or matches on an existing record, and creates a relationship between it and the record you are importing directly from the source data.</p>
<p>In our example mapping, we are importing Images as ca_objects records. But using refineries, we are also creating and relating Entity records to those Object records.</p>
<p>Our example uses an entitySplitter, but these same principles apply to the splitters for other tables: placeSplitter, collectionSplitter, and so on.</p>
<p>The objectLotSplitter requires a few extra settings, all of which are cited in our example mapping.</p>
<p>Lastly, Splitters aren&#8217;t the only type of Refinery - they&#8217;re just the most common. For a complete list of refineries, go here.</p>
</div>
<div class="section" id="refinery-parameters-column-7">
<span id="import-parameters"></span><h2><a class="toc-backref" href="#id9">8. Refinery parameters (Column 7)</a><a class="headerlink" href="#refinery-parameters-column-7" title="Permalink to this headline">¶</a></h2>
<p>In our entitySplitter example, we&#8217;ll be using the most basic and commonly used refinery parameters: entityType, and relationshipType. In the objectLotSplitter we will be using another useful parameter called attributes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="50%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type of Refinery parameter</th>
<th class="head">Parameter notes</th>
<th class="head">Example for &#8220;Refinery Parameter&#8221; column of mapping</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>relationshipType</td>
<td>Accepts a constant type code for the relationship type or a reference to the location in the data source where the type can be found</td>
<td><code class="docutils literal"><span class="pre">{&quot;relationshipType&quot;:</span> <span class="pre">&quot;^10&quot;}</span></code> or <code class="docutils literal"><span class="pre">{&quot;relationshipType&quot;:</span> <span class="pre">&quot;author&quot;}</span></code></td>
</tr>
<tr class="row-odd"><td>entityType</td>
<td>Accepts a constant list item idno from the list entity_types or a reference to the location in the data source where the type can be found</td>
<td><code class="docutils literal"><span class="pre">{&quot;entityType&quot;:</span> <span class="pre">&quot;individual&quot;}</span></code></td>
</tr>
<tr class="row-even"><td>attributes</td>
<td>Sets or maps metadata for the entity record by referencing the metadataElement code and the location in the data source where the data values can be found</td>
<td><div class="first last highlight-none"><div class="highlight"><pre><span></span>{
&quot;attributes&quot;: {
   &quot;biography&quot;:&quot;^23&quot;,
   &quot;address&quot;: {
      &quot;address1&quot;: &quot;^24&quot;,
      &quot;address2&quot;: &quot;^25&quot;,
      &quot;city&quot;: &quot;^26&quot;,
      &quot;stateprovince&quot;: &quot;^27&quot;,
      &quot;postalcode&quot;: &quot;^28&quot;,
      &quot;country&quot;: &quot;^29&quot;
   }
}
}
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="original-values-replacement-values-columns-8-9">
<span id="import-original"></span><h2><a class="toc-backref" href="#id10">9. Original values/Replacement values (Columns 8 &amp; 9)</a><a class="headerlink" href="#original-values-replacement-values-columns-8-9" title="Permalink to this headline">¶</a></h2>
<p>In some cases, particularly when you are mapping to a list element, you may need the mapping to find certain values in your source data and replace them with new values upon import. In the Original Value column, you may state all values that you wish to have replaced. Then, in the Replacement Value column, set their replacements. You can add multiple values to a single cell, so long as the replacement value matched the original value line by line.</p>
<p>In our example, there is a list element called &#8220;Reproduction&#8221; with values for reproduction, original, and unknown. In our source data, however, you&#8217;ll notice that the data input for these values are abbreviated (e.g &#8220;orig&#8221;, &#8220;repro&#8221;, and &#8220;dontknow&#8221;). By using original and replacement values, our mapping transforms &#8220;orig&#8221; to &#8220;original&#8221; and &#8220;repro&#8221; to &#8220;reproduction&#8221; so that they can match on the list item code for the corresponding values in CollectiveAccess.</p>
</div>
<div class="section" id="source-description-notes-columns-10-11">
<span id="import-notes"></span><h2><a class="toc-backref" href="#id11">10. Source Description &amp; Notes (Columns 10 &amp; 11)</a><a class="headerlink" href="#source-description-notes-columns-10-11" title="Permalink to this headline">¶</a></h2>
<p>These two columns are used to clarify the source and purpose of each line in the mapping and are optional. Source Description is generally a plain text label or name for the original source column to allow for easy reference to which fields are being mapped (or skipped) in the mapping. Notes provides a space to explain how and why a certain line is mapped in the manner that it is, for example explaining why a certain value is being omitted or how an entity line is being split and related to the main record.</p>
<p>These fields can be useful for future reference if a mapping is intended to be used repeatedly to be sure that the selected mapping matches the source data.</p>
</div>
<div class="section" id="importing-the-sample-data">
<span id="import-sample"></span><h2><a class="toc-backref" href="#id12">11. Importing the sample data</a><a class="headerlink" href="#importing-the-sample-data" title="Permalink to this headline">¶</a></h2>
<p>Once you have installed the sample profile configuration, you can load the sample mapping by navigating from the global navigtion menu to Import - Data and dragging the sample mapping file into the box labelled &#8220;Drag importer worksheets here to add or update&#8221;.</p>
<img alt="../_images/Load_importer1.png" src="../_images/Load_importer1.png" />
<p>Once the mapping is loaded, click on the icon to the right and you&#8217;ll be able to upload the sample data on the following screen. From here, you can execute the data import!</p>
<img alt="../_images/Run_import1.png" src="../_images/Run_import1.png" />
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="formats.html" class="btn btn-neutral float-right" title="Supported File Formats" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../workflow/history.html" class="btn btn-neutral" title="Maintaining object use history" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Whirl-i-Gig.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>